<style>
  /* Semi-circle crop effect */
  .half-round-crop-{{ section.id }} {
    clip-path: inset(0 0 50% 0);
    margin-bottom: -250px;
  }

  @media (max-width: 1023px) {
    .half-round-crop-{{ section.id }} {
      margin-bottom: -160px;
    }
  }

  /* Dynamic Button Color */
  .custom-btn-{{ section.id }} {
    background-color: {{ section.settings.btn_color }};
    color: #fff; /* White text for contrast */
  }

  .custom-btn-{{ section.id }}:hover {
    filter: brightness(110%);
  }

  /* Icon Color */
  .icon-color-{{ section.id }} {
    color: {{ section.settings.btn_color }};
  }
</style>

<section class="relative overflow-hidden py-12 lg:py-24" style="background-color: {{ section.settings.bg_color }};">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="flex flex-col lg:flex-row gap-16 items-center">
      <div class="relative flex justify-center lg:justify-start min-h-[350px] sm:min-h-[450px] lg:min-h-[600px] w-full lg:w-1/2">
        <div class="relative w-64 h-64 sm:w-80 sm:h-80 lg:w-[500px] lg:h-[500px] rounded-full self-end lg:ml-[-120px] overflow-hidden half-round-crop-{{ section.id }}">
          {% if section.settings.image_round != blank %}
            {{
              section.settings.image_round
              | image_url: width: 1000
              | image_tag: loading: 'lazy', class: 'w-full h-full object-cover', widths: '375, 550, 750, 1000'
            }}
          {% else %}
            <div class="w-full h-full opacity-50" style="background-color: {{ section.settings.btn_color }};"></div>
          {% endif %}
        </div>

        <div class="absolute top-0 left-1/2 -translate-x-1/2 lg:left-12 lg:translate-x-0 w-full max-w-[280px] sm:max-w-[350px] lg:max-w-[480px]">
          {% if section.settings.image != blank %}
            {{
              section.settings.image
              | image_url: width: 1000
              | image_tag:
                loading: 'lazy',
                class: 'w-full h-auto object-contain drop-shadow-2xl',
                widths: '375, 550, 750, 1000'
            }}
          {% else %}
            {{
              'iphone-6'
              | placeholder_svg_tag: 'w-full h-full border border-gray-700 bg-gray-800 rounded-3xl opacity-50'
            }}
          {% endif %}
        </div>
      </div>

      <div class="flex flex-col text-white w-full lg:w-1/2">
        {%- if section.settings.heading != blank -%}
          <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight mb-4">
            {{ section.settings.heading | escape }}
          </h2>
        {%- endif -%}

        {%- if section.settings.subtext != blank -%}
          <p class="text-gray-300 text-lg mb-8 max-w-xl">
            {{ section.settings.subtext }}
          </p>
        {%- endif -%}

        {%- if section.blocks.size > 0 -%}
          <ul class="space-y-4 mb-10">
            {%- for block in section.blocks -%}
              {%- if block.settings.list_text != blank -%}
                <li class="flex items-start gap-3" {{ block.shopify_attributes }}>
                  <span class="mt-1 flex-shrink-0 icon-color-{{ section.id }}">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                    </svg>
                  </span>
                  <span class="text-gray-200 text-base lg:text-lg">{{ block.settings.list_text }}</span>
                </li>
              {%- endif -%}
            {%- endfor -%}
          </ul>
        {%- endif -%}

        <div class="flex flex-wrap gap-4 items-center">
          {%- if section.settings.btn_text != blank -%}
            <a
              href="{{ section.settings.btn_link | default: '#' }}"
              class="inline-block px-8 py-4 text-sm lg:text-base font-bold uppercase tracking-widest rounded-full transition-all custom-btn-{{ section.id }}"
            >
              {{ section.settings.btn_text }}
            </a>
          {%- endif -%}

          {%- if section.settings.btn_text_2 != blank -%}
            <a
              href="{{ section.settings.btn_link_2 | default: '#' }}"
              class="inline-block px-8 py-4 text-sm lg:text-base font-bold rounded-full text-black bg-white transition-all hover:bg-gray-100"
            >
              {{ section.settings.btn_text_2 }}
            </a>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</section>
{% schema %}
{
  "name": "Free Trial Half Round",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "btn_color",
      "label": "Primary Button & Icon Color",
      "default": "#bbf7d0"
    },
    {
      "type": "image_picker",
      "id": "image_round",
      "label": "Round Image (Will be cut to half)"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Mobile Phone Image"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Start Coaching Smarter, Not Harder"
    },
    {
      "type": "textarea",
      "id": "subtext",
      "label": "Sub-text",
      "default": "Reach more students, monetize your expertise, and streamline your coaching business, all from one platform."
    },
    {
      "type": "header",
      "content": "Primary Button"
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "Button Text",
      "default": "START FREE TRIAL"
    },
    {
      "type": "url",
      "id": "btn_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Secondary Button"
    },
    {
      "type": "text",
      "id": "btn_text_2",
      "label": "Button Text",
      "default": "Schedule a Demo"
    },
    {
      "type": "url",
      "id": "btn_link_2",
      "label": "Button Link"
    }
  ],
  "blocks": [
    {
      "type": "list_item",
      "name": "List Item",
      "settings": [
        {
          "type": "text",
          "id": "list_text",
          "label": "Text",
          "default": "Add your feature point here"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Free Trial Half Round",
      "blocks": [
        { "type": "list_item", "settings": { "list_text": "Live virtual lessons with instant replay" } },
        { "type": "list_item", "settings": { "list_text": "Offer on-demand content and reviews" } },
        { "type": "list_item", "settings": { "list_text": "Manage bookings, payments, and clients" } }
      ]
    }
  ]
}
{% endschema %}
