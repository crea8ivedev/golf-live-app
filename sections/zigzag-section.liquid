{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  }
  @media screen and (max-width: 989px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top_mobile }}px;
      padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
    }
  }
{%- endstyle -%}

<div class="section-{{ section.id }}-padding {{ section.settings.extra-class-zigzag }}">
  <div class="container-136 max-990:border-b max-990:border-[#DBDBDB]">
    <div class="ctm-zigzag-main">
      {%- if section.settings.show_h2 and section.settings.main_h2 != blank -%}
        <h2
          class="h2 text-center text-gray-900 990:pb-[50px] max-w-[804px] mx-auto"
          style="margin-bottom: {{ section.settings.heading-bottom-padding }}px;"
        >
          {{ section.settings.main_h2 }}
        </h2>
      {%- endif -%}

      <div class="flex flex-col-reverse 990:flex-row items-center min-990:max-[1199px]:items-end gap-10 990:gap-20 990:border-b border-[#DBDBDB] {% if section.settings.layout == 'text_first' %}right-img 990:flex-row-reverse{% endif %}">
        <div class="w-full 990:w-1/2">
          <div class="zigzag-image-main relative mt-[20%]">
            <div class="zigzag_image absolute bottom-0 mx-auto left-1/2 -translate-x-1/2 w-full max-w-[65%]">
              {%- if section.settings.image != blank -%}
                {{
                  section.settings.image
                  | image_url: width: 1800
                  | image_tag: class: 'w-full h-full', loading: 'lazy'
                }}
              {%- endif -%}
            </div>
            <div class="round_img">
              {%- if section.settings.round_image != blank -%}
                {{
                  section.settings.round_image
                  | image_url: width: 1800
                  | image_tag: class: 'w-full h-full', loading: 'lazy'
                }}
              {%- endif -%}
            </div>
          </div>
        </div>

        <div class="w-full 990:w-1/2 990:py-5">
          <div class="990:max-w-[535px] max-w-full flex flex-col gap-[21px] max-990:gap-2.5">
            {%- for block in section.blocks -%}
              {% case block.type %}
                {%- when 'heading' -%}
                  <h4 class="font-body font-bold 1582:text-[34px] 1582:leading-[40px]" {{ block.shopify_attributes }}>
                    {{ block.settings.heading }}
                  </h4>

                {%- when 'paragraph' -%}
                  <div class="space-y-5" {{ block.shopify_attributes }}>
                    {% assign para_lines = block.settings.text | newline_to_br | split: '<br />' %}
                    {% for line in para_lines %}
                      <p class="leading-normal">{{ line | strip }}</p>
                    {% endfor %}
                  </div>

                {%- when 'list' -%}
                  <ul class="flex flex-col gap-4 max-990:mt-5" {{ block.shopify_attributes }}>
                    {% assign list_items = block.settings.list_content | newline_to_br | split: '<br />' %}
                    {% for item in list_items %}
                      {% if item != blank %}
                        <li class="flex min-990:items-center gap-3">
                          <span class="mt-1 flex-shrink-0">
                            <svg
                              width="26"
                              height="26"
                              viewBox="0 0 26 26"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <circle cx="13" cy="13" r="13" fill="#187F00" fill-opacity="0.941176"/>
                              <path d="M6 12.5L11 17.5L20.5 8" stroke="white" stroke-width="3"/>
                            </svg>
                          </span>
                          <span class="font-body font-medium">{{ item | strip }}</span>
                        </li>
                      {% endif %}
                    {% endfor %}
                  </ul>
              {%- endcase -%}
            {%- endfor -%}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Zigzag Section",
  "settings": [
    {
      "type": "text",
      "id": "extra-class-zigzag",
      "label": "Extra Class"
    },
    {
      "type": "text",
      "id": "main_h2",
      "label": "Section H2 (Title)",
      "default": "Live Lessons"
    },
    {
      "type": "checkbox",
      "id": "show_h2",
      "label": "Show Section Title",
      "default": true
    },
    {
      "type": "range",
      "id": "heading-bottom-padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 36
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "image_picker",
      "id": "round_image",
      "label": "Round Image"
    },
    {
      "type": "select",
      "id": "layout",
      "options": [
        { "value": "image_first", "label": "Left" },
        { "value": "text_first", "label": "Right" }
      ],
      "default": "image_first",
      "label": "Image Position"
    },
    {
      "type": "header",
      "content": "Desktop Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top Desktop",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom Desktop",
      "default": 52
    },
    {
      "type": "header",
      "content": "Mobile Padding"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top Mobile",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom Mobile",
      "default": 52
    }
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "H3 Heading",
      "limit": 1,
      "settings": [{ "type": "text", "id": "heading", "label": "Heading", "default": "Live Virtual Lessons" }]
    },
    {
      "type": "paragraph",
      "name": "Paragraph Block",
      "settings": [
        {
          "type": "textarea",
          "id": "text",
          "label": "Text Content",
          "info": "Press Enter for new paragraphs",
          "default": "Coach students anywhere with live video."
        }
      ]
    },
    {
      "type": "list",
      "name": "List Block",
      "settings": [
        {
          "type": "textarea",
          "id": "list_content",
          "label": "List Items",
          "info": "One item per line",
          "default": "No geographic limitations\nInstant replay\n Demo line"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Zigzag Section",
      "blocks": [{ "type": "heading" }, { "type": "paragraph" }, { "type": "list" }]
    }
  ]
}
{% endschema %}
